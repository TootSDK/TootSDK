<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TootSDK  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="TootSDK  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">TootSDK Docs</a> (62% documented)</p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">TootSDK Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        TootSDK  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Actors.html">Actors</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Actors/TootDataStream.html">TootDataStream</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Account.html">Account</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Account/CodingKeys.html">‚Äì CodingKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AppKitAttribStringRenderer.html">AppKitAttribStringRenderer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Post.html">Post</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Post/Visibility.html">‚Äì Visibility</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TootClient.html">TootClient</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:7TootSDK0A7DecoderC">TootDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TootEncoder.html">TootEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TootPresentationAnchor.html">TootPresentationAnchor</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/UIKitAttribStringRenderer.html">UIKitAttribStringRenderer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/UniversalRenderer.html">UniversalRenderer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/AccountTootStreams.html">AccountTootStreams</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/AttachmentType.html">AttachmentType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DomainBlockSeverity.html">DomainBlockSeverity</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/HTTPMethod.html">HTTPMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ListRepliesPolicy.html">ListRepliesPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PostTootStreams.html">PostTootStreams</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TootSDKError.html">TootSDKError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TootSDKFlavour.html">TootSDKFlavour</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/NSAttributedString.html">NSAttributedString</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/NSMutableAttributedString.html">NSMutableAttributedString</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/TootStream.html">TootStream</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AccessToken.html">AccessToken</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AccountLookup.html">AccountLookup</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Activity.html">Activity</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AddAccountsToListParams.html">AddAccountsToListParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Alerts.html">Alerts</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Announcement.html">Announcement</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnnouncementReaction.html">AnnouncementReaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Attachment.html">Attachment</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AttachmentMeta.html">AttachmentMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AttachmentMetaFocus.html">AttachmentMetaFocus</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AttachmentMetaInfo.html">AttachmentMetaInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/BlockDomainParams.html">BlockDomainParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CallbackInfo.html">CallbackInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Card.html">Card</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Card/CardType.html">‚Äì CardType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Context.html">Context</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Conversation.html">Conversation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CreatePoll.html">CreatePoll</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DomainBlock.html">DomainBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/EditPostParams.html">EditPostParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Emoji.html">Emoji</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FeaturedTag.html">FeaturedTag</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Filter.html">Filter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Filter/Context.html">‚Äì Context</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FollowAccountParams.html">FollowAccountParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/IdentityProof.html">IdentityProof</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Instance.html">Instance</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Instance/URLs.html">‚Äì URLs</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Instance/Stats.html">‚Äì Stats</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/List.html">List</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ListOauthAppsParams.html">ListOauthAppsParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ListParams.html">ListParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Marker.html">Marker</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Marker/Timeline.html">‚Äì Timeline</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/MediaAttachment.html">MediaAttachment</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Mention.html">Mention</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/MuteAccountParams.html">MuteAccountParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PagedInfo.html">PagedInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PagedResult.html">PagedResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Pagination.html">Pagination</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PleromaFollowByURIParams.html">PleromaFollowByURIParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PleromaOauthApp.html">PleromaOauthApp</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:7TootSDK24PleromaOauthAppsResponseV">PleromaOauthAppsResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Poll.html">Poll</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Poll/Option.html">‚Äì Option</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PostEdit.html">PostEdit</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PostParams.html">PostParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PostSource.html">PostSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Preferences.html">Preferences</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Preferences/ExpandMedia.html">‚Äì ExpandMedia</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PushSubscription.html">PushSubscription</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Relationship.html">Relationship</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/RemoveAccountsFromListParams.html">RemoveAccountsFromListParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Report.html">Report</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Results.html">Results</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ScheduledPost.html">ScheduledPost</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ScheduledPostParams.html">ScheduledPostParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Search.html">Search</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Search/CodingKeys.html">‚Äì CodingKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SearchParams.html">SearchParams</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SearchParams/SearchType.html">‚Äì SearchType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Tag.html">Tag</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TagHistory.html">TagHistory</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TootApplication.html">TootApplication</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TootContent.html">TootContent</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TootField.html">TootField</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TootHTML.html">TootHTML</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TootNotification.html">TootNotification</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TootNotification/NotificationType.html">‚Äì NotificationType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TootSource.html">TootSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UploadMediaAttachmentParams.html">UploadMediaAttachmentParams</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="./media/logo.svg" width="100" /></p>
<h1 id='tootsdk' class='heading'>TootSDK</h1>

<p><strong>Cross-platform Swift library for the Mastodon API</strong></p>

<p>
    <a href="https://developer.apple.com/swift/"><img alt="Swift 5.7" src="https://img.shields.io/badge/swift-5.7-orange.svg?style=flat"></a>
    <a href="https://developer.apple.com/swift/"><img alt="Platforms" src="https://img.shields.io/badge/platform-iOS%20%7C%20macOS%20%7C%20tvOS%20%7C%20watchOS%20%7C%20Linux-blueviolet"></a>
     <a href="https://github.com/TootSDK/TootSDK/blob/main/LICENSE.md"><img alt="BSD 3-clause" src="https://img.shields.io/badge/License-BSD_3--Clause-blue.svg"></a>
    <a href="https://github.com/TootSDK/TootSDK/actions"><img alt="Build Status" src="https://github.com/TootSDK/TootSDK/actions/workflows/build.yml/badge.svg"></a>
</p>

<p>TootSDK is a framework for Mastodon and the Fediverse, for iOS. It provides a toolkit for authorizing a user with an instance, and interacting with their posts.</p>

<p>TootSDK is a community developed SDK for Mastodon and the Fediverse.
It is designed to work with all major servers (Mastodon, Pleroma, PixelFed etc).</p>

<p>You can use TootSDK to build a client for Apple operating systems, or Linux with Vapor.</p>

<p><img src="/media/overview.png" alt="overview of how TootSDK integrates with fedi platforms"></p>
<h2 id='why-make-tootsdk' class='heading'>Why make TootSDK?</h2>

<p>When app developers build apps for Mastodon and the Fediverse, every developer ends up having to solved the same set of problems when it comes to the API and data model.</p>

<p><a href="https://m.iamkonstantin.eu/konstantin">Konstantin</a> and <a href="https://social.davidgarywood.com/@davidgarywood">Dave</a> decided to share this effort.
TootSDK is a shared Swift Package that any client app can be built on.</p>
<h2 id='key-principles-Ô∏è' class='heading'>Key Principles ‚öôÔ∏è</h2>

<ul>
<li>Async/Await based. All asynchronous functions are defined as Async ones that you can use with Async/Await code</li>
<li>Internal consistency and standardization of model property names</li>
<li>Standardization across all supported Fediverse APIs</li>
<li>Platform agnostic (TootSDK shouldn&rsquo;t care if it&rsquo;s on iOS, macOS or Linux!)</li>
</ul>
<h2 id='project-status' class='heading'>Project Status üìà</h2>

<ul>
<li>Mastodon - In progress</li>
<li>Pleroma - In progress</li>
<li>Pixelfed - To do</li>
<li>Writefreely - To do</li>
</ul>

<p>Our <a href="ROADMAP.md">roadmap</a> shows where we want to take TootSDK. Our <a href="https://github.com/orgs/TootSDK/projects/1">project board</a> shows our current backlog of work, and what is in flight.</p>

<p>Please don&rsquo;t hesitate to open an issue or create a PR for features you need üôè</p>
<h2 id='quick-start' class='heading'>Quick start üèÅ</h2>

<p>It&rsquo;s easy to get started with TootSDK.</p>

<ul>
<li><p>Add TootSDK to your project via Swift Package Manager: <code>https://github.com/TootSDK/TootSDK</code></p></li>
<li><p>Instantiate with an instanceURL and accessToken:</p></li>
</ul>
<pre class="highlight swift"><code>  <span class="k">let</span> <span class="nv">instanceURL</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"social.yourinstance.com"</span><span class="p">)</span>
  <span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="k">try</span> <span class="n">await</span> <span class="kt">TootClient</span><span class="p">(</span><span class="nv">connect</span><span class="p">:</span> <span class="n">instanceURL</span><span class="p">,</span> <span class="nv">accessToken</span><span class="p">:</span> <span class="s">"USERACCESSTOKEN"</span><span class="p">)</span>
</code></pre>
<h3 id='signing-in-for-macos-and-ios' class='heading'>Signing in (for macOS and iOS):</h3>

<ul>
<li>Instantiate your client without a token:</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="k">try</span> <span class="n">await</span> <span class="kt">TootClient</span><span class="p">(</span><span class="nv">connect</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
</code></pre>

<ul>
<li>Use the sign in helper we&rsquo;ve created based on <a href="https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession"><code>ASWebAuthenticationSession</code></a>:</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="k">try</span> <span class="n">await</span> <span class="kt">TootClient</span><span class="p">(</span><span class="nv">connect</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>

<span class="k">guard</span> <span class="k">let</span> <span class="nv">accessToken</span> <span class="o">=</span> <span class="k">try</span> <span class="n">await</span> <span class="n">client</span><span class="o">.</span><span class="nf">presentSignIn</span><span class="p">(</span><span class="nv">callbackURI</span><span class="p">:</span> <span class="n">callbackURI</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// handle failed sign in</span>
    <span class="k">return</span>
<span class="p">}</span>
</code></pre>

<p>That&rsquo;s it üéâ!</p>

<p>We recommend keeping the accessToken somewhere secure, for example the Keychain.</p>
<h3 id='signing-in-all-platforms' class='heading'>Signing in (all platforms):</h3>

<ul>
<li>Instantiate your client without a token:</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="k">try</span> <span class="n">await</span> <span class="kt">TootClient</span><span class="p">(</span><span class="nv">connect</span><span class="p">:</span> <span class="n">instanceURL</span><span class="p">)</span>
</code></pre>

<ul>
<li>Retrieve an authorization URL to present to the user (so they can sign in)</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">authURL</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="nf">createAuthorizeURL</span><span class="p">(</span><span class="nv">callbackURI</span><span class="p">:</span> <span class="s">"myapp://someurl"</span><span class="p">)</span>
</code></pre>

<ul>
<li>Present the the authorization URL as a web page</li>
<li>Let the user sign in, and wait for the callbackURI to be called</li>
<li>When that callbackURI is called, give it back to the client to collect the token</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">accessToken</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="nf">collectToken</span><span class="p">(</span><span class="nv">returnUrl</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">callbackURI</span><span class="p">:</span> <span class="n">callbackURI</span><span class="p">)</span>
</code></pre>

<p>We recommend keeping the accessToken somewhere secure, for example the Keychain.</p>
<h3 id='accessing-a-user-39-s-home-feedfeed' class='heading'>Accessing a user&rsquo;s home feedfeed</h3>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">posts</span> <span class="o">=</span> <span class="k">try</span> <span class="n">await</span> <span class="n">client</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="nf">stream</span><span class="p">(</span><span class="o">.</span><span class="n">timeLineHome</span><span class="p">)</span>
</code></pre>
<h2 id='further-documentation' class='heading'>Further Documentation üìñ</h2>

<ul>
<li>Reference documentation is available <a href="https://tootsdk.github.io/TootSDK/">here</a></li>
<li>Example apps:

<ul>
<li><a href="Examples/swiftui-toot/">swiftui-toot</a> - a SwiftUI app that shows authorization, a user&rsquo;s feed, posting and account operations</li>
<li><a href="Examples/swiftyadmin">swiftyadmin</a> - a command line utility to interact with and control a server using TootSDK</li>
<li><a href="Examples/vaportoot">vaportoot</a> - a web app in Vapor, that shows how to sign in and view a user&rsquo;s feed</li>
</ul></li>
</ul>
<h2 id='contributing' class='heading'>Contributing</h2>
<h3 id='code-of-conduct-and-contributing-rules-Ô∏è' class='heading'>Code of Conduct and Contributing rules üßë‚Äç‚öñÔ∏è</h3>

<ul>
<li>Our guide to contributing is available here: <a href="CONTRIBUTING.md">CONTRIBUTING.md</a>.</li>
<li>All contributions, pull requests, and issues are expected to adhere to our community code of conduct: <a href="CODE_OF_CONDUCT.md">CODE_OF_CONDUCT.md</a>.</li>
</ul>
<h3 id='key-contributors-Ô∏è' class='heading'>Key contributors ‚ö°Ô∏è</h3>

<ul>
<li><a href="https://m.iamkonstantin.eu/konstantin">Konstantin</a></li>
<li><a href="https://social.davidgarywood.com/@davidgarywood">David Gary Wood</a></li>
</ul>
<h2 id='license' class='heading'>License üìÉ</h2>

<p>TootSDK is licensed with the BSD-3-Clause license, more information here: <a href="LICENSE.md">LICENSE.MD</a></p>

<p>This is a permissive license which allows for any type of use, provided the copyright notice is included.</p>
<h2 id='acknowledgements' class='heading'>Acknowledgements üôè</h2>

<ul>
<li>The Mastodon API documentation <a href="https://github.com/mastodon/documentation">https://github.com/mastodon/documentation</a></li>
<li>We hat-tip top Metatext&rsquo;s source for some guidance on what&rsquo;s where: <a href="https://github.com/metabolist/metatext">https://github.com/metabolist/metatext</a></li>
<li><a href="https://mastodon.social/@kslazinski">Kris Slazinski</a> for our TootSDK logo ü§©</li>
</ul>

          </section>
        </section>
        <section id="footer">
          <p>Copyright (c) 2022, Konstantin Kostov and David Gary Wood</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ‚ô™‚ô´ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
